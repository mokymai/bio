---
title: "Package **_bio_**"
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

<!-- # Package **_bio_** -->

```{r README-0, include=FALSE}
options(bio.local_list = TRUE)

options(
  repos = "https://cran.rstudio.com/",
  pkgType = "both",
  install.packages.check.source = "yes",
  install.packages.compile.from.source = "always"
)

Sys.setenv(R_REMOTES_NO_ERRORS_FROM_WARNINGS = "true")
```


<!-- badges: start -->
[![GitHub version](https://img.shields.io/badge/GitHub-`r packageVersion("bio")`-brightgreen.svg)](https://github.com/mokymai/bio)
[![R-CMD-check](https://github.com/mokymai/bio/workflows/R-CMD-check/badge.svg)](https://github.com/mokymai/bio/actions)
[![Updated-on](https://img.shields.io/badge/Updated%20on-`r gsub('-', '--', Sys.Date())`-yellowgreen.svg)](/commits/master)
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
<!-- badges: end -->

<!-- [![GitHub last commit](https://img.shields.io/github/last-commit/mokymai/bio)](https://github.com/mokymai/bio) -->



Convenience functions to facilitate installation and management of required resources for course units __*Biostatistics*__  (*BS-2022*) and __*Introduction to data analysis with R*__ (*R-2022*).


<center>
<br>
<font color="darkred" size=4>
This package is intended to be used with <b>RStudio 2022.07.1</b> or newer<br>
and <b>R 4.2.1</b> or newer.<br>
</font>
<font color="darkred" size=3>
Functions may not work correctly with the previous versions of RStudio and R.
</font>
<br><br><br>
</center>

Bug reports and your feedback are welcome at https://github.com/mokymai/bio/issues.
In the report, indicate what operating system you are using.


# Install

To install this package from CRAN-like repository, use code (recommended):

```{r README-1, eval=FALSE}
repos <- c("https://mokymai.github.io/download/", getOption("repos"))
install.packages("bio", repos = repos)
```


<details>
<summary>Install form GitHub</summary>

To install this package from GitHub:

```{r README-2, eval=FALSE}
if (!require(remotes)) install.packages("remotes")
remotes::install_github("mokymai/bio", dependencies = TRUE)
```

Note: installation from *GitHub* requires *RTools* on *Windows*.

</details>


# Examples

## Check information about OS and user

Check information about operating system (OS) and R-related user information.

```{r README-6, paged.print=FALSE, eval=FALSE}
bio::check_user_info()
## Operating system    Windows 10 x64 (build 19044)
## Platform            x86_64-w64-mingw32/x64 (64-bit)
## LOGNAME
## USERNAME            User
## USERPROFILE         C:/Users/User
## HOME                C:/Users/User
## R_USER              C:/Users/User
## R_HOME              C:/PROGRA~1/R/R-4.2.1
## R_LIBS_USER         C:/Users/User/AppData/Local/R/win-library/4.2
```


## Check information about programs

Check versions of presence of installed R-related and other programs. 
Options:

- `"main"`{.r} (default) -- checks for "R", "RStudio", and "Rtools" ("Windows" only) or "Compiler" (non-"Windows" only).
- `"all"`{.r} -- additionally checks for presence of "XQuartz" ("Mac" only), "Git" (all systems), and (sometimes) "Meld". 
  <!-- This check may not work properly on "Mac" and "Linux". -->


```{r README-7a, eval=FALSE}
bio::check_installed_programs()
## ✔ Program R (4.2.1) is installed (recommended 4.2.1, available 4.2.1).
## ✖ Program RStudio is not installed or is not running.
## ✔ Tool Rtools is installed.
```

```{r README-7b, eval=FALSE}
bio::check_installed_programs("all")
## ✔ Program R (4.2.1) is installed (recommended 4.2.1, available 4.2.1).
## ✔ Program RStudio (2022.7.0.548) is installed (recommended 2022.7.0, available 2022.7.1.554).
## ✔ Tool Rtools is installed.
## ✔ Program Git is installed.
## ✔ Program Meld is installed.
```


## Check information about "R" packages

The following functions may be used to check installed packages by topic.
By default, only missing packages or packages with lower versions than recommended are displayed.
Currently available lists can be returned by function `bio::get_pkg_lists_local()`{.r}.

<details>
<summary>Details</summary>

```{r echo=FALSE, results='asis'}
res <- paste0(
  "\n",
  paste0("- `'", bio:::get_pkg_lists_local(), "'`", collapse = "\n"),
  "\n\n"
)
cat(res)
```

</details>


```{r README-8a, eval=FALSE, paged.print=FALSE}
bio::check_packages_by_topic("mini")
## ℹ Reading list 'mini' 
## ✔ Minimal required versions of all 19 packages (from list 'mini') are already installed.
```

```{r README-8b, eval=FALSE, paged.print=FALSE}
bio::check_packages_by_topic("mini", include = "newer_on_cran")
## ℹ Reading list 'mini' 
## ✔ Minimal required versions of all 19 packages (from list 'mini') are already installed.
## ℹ Note: 1 package has newer version on CRAN.
```


## Update packages

These are the convenience functions to update certain R packages.
The functions restart R before installation if used in RStudio.


Update package **bio**.
```{r README-3a, eval=FALSE}
bio::update_pkg_bio()
```

Check if there are updates for **bio** or its dependency packages.
```{r README-3b, eval=FALSE, paged.print=FALSE}
bio::check_updates_pkg_bio()
## ℹ Reading list 'bio'
## 
## [... truncated ...]
## 
## ✔ Minimal required versions of all 23 packages (from list 'bio') are already installed.
```

Update package **snippets**.
```{r README-4, eval=FALSE}
bio::update_pkg_snippets()
```

<!-- Update package **RcmdrPlugin.biostat**. -->
<!-- ```{r README-5a, eval=FALSE} -->
<!-- bio::update_pkg_rcmdr_biostat() -->
<!-- ``` -->


## RStudio settings and user preferences

> Make sure that you understand what you are doing when you try using the functions 
  that reset RStudio key bindings (shortcut keys), settings or snippets. 
> **You may loose _all_ your previous settings.**




### Dictionaries

This function downloads or updates **hunspell** spelling checking dictionaries dictionaries (including Lithuanian) that can be used by RStudio or by tools from **wellspell.addin** package.

```{r eval=FALSE}
bio::rstudio_install_spellcheck_dictionaries()
```

Install improved Lithuanian dictionary.
```{r eval=FALSE}
bio::rstudio_install_spellcheck_dictionary_lt()
## ✔ lt_LT dictionary installed. 
##   'C:/Users/ViG/AppData/Roaming/RStudio/dictionaries/languages-system/lt_LT.dic'
```



### Shortcut keys


This function changes shortcut keys in RStudio.

Run function without arguments to see the available options.
```{r README-9a, eval=FALSE, error=TRUE}
bio::rstudio_reset_keybindings()
## Error: The value of argument 'to' is missing.
## Possible options: 'bio-default', 'rstudio-default'.
```


Options:

- `"bio-default"`{.r} -- shortcut keys recommended for courses BS-2022 and R-2022.
- `"rstudio-default"`{.r} -- RStudio defaults.

```{r README-9b, eval=FALSE}
bio::rstudio_reset_keybindings(to = "bio-default")
```


: **Table 1.** Some examples of shortcut keys set with option `"bio-default"`{.r}.

| Shortcut                                                     | Action                                                                                                                                         |
|--------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------|
| <kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>S</kbd>                 | Insert inline LaTeX equation (*R Markdown*).                                                                                                   |
| <kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>A</kbd>                 | Use "Tidyverse" style on selected lines of R code. Package **styler** must be installed (*R code*).                                            |
| <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>D</kbd>                | Duplicate selected text.                                                                                                                       |
| <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>S</kbd> | Check spelling in selected text. Package [**wellspell.addin**](https://github.com/nevrome/wellspell.addin){target="_blank"} must be installed. |
| <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>P</kbd> | Align parts of selected lines at a custom pattern.                                                                                             |
| <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>]</kbd>                | Change heading one level down (*R Markdown*) **[!]**.                                                                                          |
| <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>[</kbd>                | Change heading one level up or remove heading (*R Markdown*) **[!]**.                                                                          |
| <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>;</kbd>                | Insert lower opening quotes `„`.                                                                                                               |
| <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>'</kbd>                | Insert upper closing quotes `“`.                                                                                                               |
| <kbd>Ctrl</kbd>+<kbd>E</kbd>                                 | **Insert/Enclose with R code block** (*R Markdown*) **[!]** .                                                                                  |
| <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>T</kbd>                  | Insert inline code highlighted as R code (R Markdown).                                                                                         |
| <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>NumPad8</kbd>            | Insert operator `%*%` (*R code*).                                                                                                              |
| <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>NumPad7</kbd>            | Insert operator `%in%` (*R code*).                                                                                                             |
| <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>D</kbd>                  | Document R package (that you are building).                                                                                                    |

<!-- : **Table 1.** Some examples of shortcut keys set with option `"bio-default"`{.r}. -->
<!-- `r kbd <- function(...) paste(...)` -->
<!-- Shortcut  | Action -->
<!-- --------- | ------------------------------------------------------------------------------------------------------------------------------------------- -->
<!-- `r kbd("Ctrl", "Shift", "Alt", "S")`  | Check spelling in selected text. Package [**wellspell.addin**](https://github.com/nevrome/wellspell.addin){target="_blank"} must be installed. -->
<!-- `r kbd("Shift", "Alt", "A")`          | Use "Tidyverse" style on selected lines of R code. Package **styler** must be installed (*R code*). -->
<!-- `r kbd("Ctrl", "Alt", "D")`           | Document R package (that you are building). -->
<!-- `r kbd("Ctrl", "Shift", "D")`         | Duplicate selected text. -->
<!-- `r kbd("Ctrl", "Shift", "Alt", "P")`  | Align parts of selected lines at a custom pattern. -->
<!-- `r kbd("Ctrl", "Shift", ";")`         | Insert lower opening quotes `„`. -->
<!-- `r kbd("Ctrl", "Shift", "'")`         | Insert upper closing quotes `“`. -->
<!-- `r kbd("Ctrl", "E")`                  | **Insert/Enclose with R code block** (*R Markdown*) **[!]** . -->
<!-- `r kbd("Ctrl", "Alt", "T")`           | Insert inline code highlighted as R code (R Markdown). -->
<!-- `r kbd("Shift", "Alt", "S")`          | Insert inline LaTeX equation (*R Markdown*). -->
<!-- `r kbd("Ctrl", "Alt", "NumPad0")`     | Remove heading/section name (*R Markdown*). -->
<!-- `r kbd("Ctrl", "Alt", "NumPad1")`     | Replace line into/Insert heading (section name) of level 1 (*R Markdown*). -->
<!-- `r kbd("Ctrl", "Alt", "NumPad2")`     | ... of level 2 (*R Markdown*). -->
<!-- `r kbd("Ctrl", "Alt", "NumPad3")`     | ... of level 3 (*R Markdown*). -->
<!-- `r kbd("Ctrl", "Alt", "NumPad4")`     | ... of level 4 (*R Markdown*). -->
<!-- `r kbd("Ctrl", "Alt", "NumPad5")`     | ... of level 5 (*R Markdown*). -->
<!-- `r kbd("Ctrl", "Alt", "NumPad6")`     | ... of level 6 (*R Markdown*). -->
<!-- `r kbd("Ctrl", "Alt", "NumPad7")`     | Insert operator `%in%` (*R code*). -->
<!-- `r kbd("Ctrl", "Alt", "NumPad8")`     | Insert operator `%*%` (*R code*). -->


More on [Customizing Keyboard Shortcuts](https://support.rstudio.com/hc/en-us/articles/206382178-Customizing-Keyboard-Shortcuts){target="_blank"} in RStudio.


### RStudio settings 

This function resets RStudio user preferences and settings.

Run function without arguments to see the available options.
```{r README-10a, eval=FALSE, error=TRUE}
bio::rstudio_reset_user_settings()
#> Error: The value of argument 'to' is missing.
#> Possible choices: 'bio-default', 'bio-dark-blue', 'bio-black', 'rstudio-default'.
```


The options:

- `"bio-default"`{.r} --  recommended BS-2022 and R-2022 settings (and light theme "Textmate (default)");
- `"bio-dark-blue"`{.r} -- recommended BS-2022 and R-2022 settings (and dark blue theme "Cobalt");
- `"bio-black"`{.r} -- recommended BS-2022 and R-2022 settings (and black theme "Chaos");
- `"rstudio-default"`{.r} -- default RStudio settings.

```{r README-10b, eval=FALSE}
bio::rstudio_reset_user_settings(to = "bio-default")
```


### Snippets

The function replaces current R code and R Markdown snippets with those in package "snippets".

```{r, eval=FALSE}
snippets::install_snippets_from_package("snippets", backup = TRUE)
```

More information on 
[Code Snippets](https://support.rstudio.com/hc/en-us/articles/204463668-Code-Snippets){target="_blank"} in RStudio and on package
[**snippets**](https://gegznav.github.io/snippets/){target="_blank"}.


### Restart R and RStudio

If you want to see the effect of changed settings, you should reload RStudio.
You may use this function, which reloads RStudio without closing it:

```{r, eval=FALSE}
bio::restart_rstudio()
```
However, in some cases it is recommended to close and reopen RStudio.

Next, to restart R session without closing RStudio, use: 
```{r, eval=FALSE}
bio::restart_r()
```
Useful to apply before trying to install R packages.


<!-- ## RStudio projects -->

<!-- Open (recently used) RStudio project. -->
<!-- ```{r README-11, eval=FALSE} -->
<!-- bio::open_project() -->
<!-- ##  -->
<!-- ## Choose the name of the project (press 0 to cancel):  -->
<!-- ##  -->
<!-- ##  1: project-1  -->
<!-- ##  2: _learn -->
<!-- ##  3: biostatistics -->
<!-- ##   -->

<!-- ##  Selection: 0 -->
<!-- ##  Cancelled by user. -->
<!-- ``` -->

<!-- Copy the recent projects to your personal project list. -->
<!-- ```{r README-12, eval=FALSE} -->
<!-- bio::update_rstudio_proj_list_user() -->
<!-- ``` -->
